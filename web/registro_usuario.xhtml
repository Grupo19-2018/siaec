<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>
        <title>S I A E C</title>
        <link href="#{request.contextPath}/resources/css/bootstrap.min.css" type="text/css" media="screen" rel="stylesheet"  />
        <!-- Archivo smiling.css, incluira los css del sistema personalizado-->
        <link href="#{request.contextPath}/resources/css/estilosaldana.css" rel="stylesheet" type="text/css"/>
        <link href="#{request.contextPath}/resources/css/smiling.css" type="text/css" media="screen" rel="stylesheet"/>
        <link href="#{request.contextPath}/resources/css/micss.css" type="text/css" media="screen" rel="stylesheet"/>
        <link href="#{request.contextPath}/resources/css/w3.css" rel="stylesheet" type="text/css"/>
        <link href="#{request.contextPath}/resources/css/dataTables.bootstrap.min.css" rel="stylesheet" type="text/css" media="screen"/>
        <link href="#{request.contextPath}/resources/images/icono.png" rel="shortcut icon" type="image/x-icon"/>
        <h:outputScript library="primefaces" name="jquery/jquery.js" />
    </h:head>    

    <h:body class="contenedor">

        <!-- Para referencia a la sección Banner -->
        <div id="banner">
            <ui:insert name="banner">
                <ui:include src="templates/partials/banner.xhtml"/>
            </ui:insert>
        </div>

        <!-- Barra de título -->
        <div class="banda1"><b>REGISTRO DE USUARIO</b></div>
        <br/>

        <h:form>
            
            <div class="row">
                <div class="col-md-5">
                    <p:panel style="border: solid 2px #D5D5D5; height: 100%; margin-left: 30pt">

                        <div class="row">
                            <div class="col-md-6">
                                <h6><b>Primer nombre</b></h6>
                                <p:inputText id="primernombre" value="#{homeBean.usuarioNuevo.usuarioPrimerNombre}" required="true" maxlength="25"
                                             style="width: 100%" validatorMessage="Nombre no válido." requiredMessage="Nombre es requerido.">
                                    <f:validateRegex pattern="^([a-zA-Z ÑÁÉÍÓÚÜñáéíóúü.]{3,25})*$"/>
                                </p:inputText>
                                <p:message for="primernombre"/>
                            </div>
                            <div class="col-md-6">
                                <h6><b>Segundo nombre</b></h6>
                                <p:inputText id="segundonombre" value="#{homeBean.usuarioNuevo.usuarioSegundoNombre}" maxlength="25"
                                             style="width: 100%" validatorMessage="Apellido no válido.">
                                    <f:validateRegex pattern="^([a-zA-Z ÑÁÉÍÓÚÜñáéíóúü.]{3,25})*$"/>
                                </p:inputText>
                                <p:message for="segundonombre"/>
                            </div>
                        </div><br/> 

                        <div class="row">
                            <div class="col-md-6">
                                <h6><b>Primer apellido</b></h6>
                                <p:inputText id="primerapellido" value="#{homeBean.usuarioNuevo.usuarioPrimerApellido}" required="true" maxlength="25"
                                             style="width: 100%" validatorMessage="Nombre no válido." requiredMessage="Nombre es requerido.">
                                    <f:validateRegex pattern="^([a-zA-Z ÑÁÉÍÓÚÜñáéíóúü.]{3,25})*$"/>
                                </p:inputText>
                                <p:message for="primerapellido"/>
                            </div>
                            <div class="col-md-6">
                                <h6><b>Segundo apellido</b></h6>
                                <p:inputText id="segundoapellido" value="#{homeBean.usuarioNuevo.usuarioSegundoApellido}" maxlength="50"
                                             style="width: 100%" validatorMessage="Apellido no válido.">
                                    <f:validateRegex pattern="^([a-zA-Z ÑÁÉÍÓÚÜñáéíóúü.]{3,25})*$"/>
                                </p:inputText>
                                <p:message for="segundoapellido"/>
                            </div>
                        </div><br/> 

                        <div class="row">
                            <div class="col-md-6">
                                <h6><b>Correo</b></h6>
                                <p:inputText id="correo" value="#{homeBean.usuarioNuevo.usuarioCorreo}" required="true" maxlength="50" style="width: 100%"
                                             validatorMessage="Correo no válido." requiredMessage="Correo es requerido." placeholder="ejemplo@mail.com">
                                    <f:validateRegex pattern="^([a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4})*$"/>
                                </p:inputText>
                                <p:message for="correo"/>
                            </div>
                            <div class="col-md-6">
                                <h6><b>Teléfono</b></h6>
                                <p:inputMask id="telefono" value="#{homeBean.usuarioNuevo.usuarioTelefono}" required="true" mask="9999-9999" style="width: 100%"
                                             requiredMessage="Teléfono es requerido."/>
                                <p:message for="telefono"/>
                            </div>
                        </div><br/>

                        <div class="row">
                            <div class="col-md-6">
                                <h6><b>Contraseña</b></h6>
                                <p:password id="contrasenia" value="#{homeBean.usuarioNuevo.usuarioContrasenia}" match="confirmar" maxlength="20" style="width: 100%" feedback="true"
                                            promptLabel="Ingrese una contraseña" weakLabel="Seguridad baja" goodLabel="Seguridad media" strongLabel="Seguridad alta"
                                            required="true" requiredMessage="Ingrese una contraseña." validatorMessage="Contraseñas no coinciden o es muy corta.">
                                    <f:validateRegex pattern="^(.{6,20})*$"/>
                                </p:password>
                                <p:message for="contrasenia"/>
                            </div>
                            <div class="col-md-6">
                                <h6><b>Confirmar contraseña</b></h6>
                                <p:password id="confirmar" value="#{homeBean.usuarioNuevo.usuarioContrasenia}" maxlength="20" style="width: 100%"/>
                            </div>
                        </div><br/>

                        <div class="row">
                            <div class="col-md-12" align="center">
                                <p:captcha label="Captcha" id="captcha" required="true" requiredMessage="Compruebe que no es un robot." validatorMessage="Compruebe que no es un robot."/>
                                <p:message for="captcha"/>
                            </div>
                        </div><br/>

                        <div class="row">
                            <div class="col-md-12" align="center">
                                <h:commandLink type="submit" class="btn btn-default" style="width: 100pt; height: 27pt; color: white; padding:5px; background-color:#FB6F52; font-weight:bold; border:solid 1px #FB6F52; -webkit-appearance:none; border-radius: 5px" action="#{homeBean.guardarUsuario()}">
                                    <i class="glyphicon glyphicon-floppy-disk"></i> Guardar
                                </h:commandLink>
                                &nbsp;
                                <button type="reset" class="btn btn-default buttonPopupLevel2 w3-round" style="width: 100pt"
                                        onclick="window.location.href = 'login.xhtml'">
                                    <span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span> Cancelar
                                </button>
                            </div>
                        </div>

                    </p:panel>
                </div>
                <div class="col-md-7">
                    <p:galleria value="#{promocionesBean.todasPromocionesActivas()}" transitionInterval="5000" var="image" panelWidth="700" panelHeight="465" showCaption="false" style="margin-left: 20pt; border: solid 2px #D5D5D5;">
                        <img src="#{request.contextPath}/images/promociones/#{image.promocionImagenNombre}" width="100%" />
                    </p:galleria>
                </div> 
            </div>
            <br/>
            
            <div class="row">
                <div class="col-md-12" align="center" style=" margin-left: 2pt">
                    <img src="#{request.contextPath}/images/configuraciones/direcciones.png" width="1270pt" height="200pt"/>
                </div> 
            </div>

        </h:form>

        <p:spacer height="50"/>
        
        <!-- Para referencia a la sección Pie de Página -->
        <div id="bottom">
            <ui:insert name="bottom">
                <ui:include src="templates/partials/pie_pagina.xhtml"/>
            </ui:insert>
        </div>

        <!-- Para referencia a archivos Java Scripts de Bootstrap -->
        <script src="#{request.contextPath}/resources/js/bootstrap.min.js" type="text/javascript"></script>
        <script src="#{request.contextPath}/resources/js/jquery.dataTables.min.js" type="text/javascript"></script>
        <script src="#{request.contextPath}/resources/js/dataTables.bootstrap.min.js" type="text/javascript"></script>
        <ui:insert name="scripts"/>
    </h:body>

</html>
