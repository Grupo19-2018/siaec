<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"        
      xmlns:ui="http://java.sun.com/jsf/facelets">

    <h:head>
        <title>S I A E C</title>
        <link href="#{request.contextPath}/resources/css/bootstrap.min.css" type="text/css" media="screen" rel="stylesheet"  />
        <!-- Archivo smiling.css, incluira los css del sistema personalizado-->
        <link href="#{request.contextPath}/resources/css/estilosaldana.css" rel="stylesheet" type="text/css"/>
        <link href="#{request.contextPath}/resources/css/smiling.css" type="text/css" media="screen" rel="stylesheet"/>
        <link href="#{request.contextPath}/resources/css/micss.css" type="text/css" media="screen" rel="stylesheet"/>
        <link href="#{request.contextPath}/resources/css/w3.css" rel="stylesheet" type="text/css"/>
        <link href="#{request.contextPath}/resources/css/dataTables.bootstrap.min.css" rel="stylesheet" type="text/css" media="screen"/>
        <link href="#{request.contextPath}/resources/images/icono.png" rel="shortcut icon" type="image/x-icon"/>
        <h:outputScript library="primefaces" name="jquery/jquery.js" />
    </h:head>    

    <h:body class="contenedor">

        <!-- Para referencia a la sección Banner -->
        <div id="banner">
            <ui:insert name="banner">
                <ui:include src="templates/partials/banner.xhtml"/>
            </ui:insert>
        </div>

        <!-- Barra de título -->
        <div class="banda1"><b>REGISTRO DE USUARIO</b></div>
        <br/>

        <h:form id="registro">

            <div class="row">
                <div class="col-lg-5 col-md-5 col-sm-12 col-xs-12">
                    <p:panel style="border: solid 2px #D5D5D5; height: 100%; margin-left: 10pt; margin-right: 10pt">

                        <p:focus for="primernombrenuevousuario"/>

                        <div class="row">
                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                <h6><b>Primer nombre *</b></h6>
                                <p:inputText id="primernombrenuevousuario" value="#{homeBean.usuarioNuevo.usuarioPrimerNombre}" required="true" maxlength="25"
                                             style="width: 100%" validatorMessage="Nombre no válido." requiredMessage="Nombre es requerido.">
                                    <f:validateRegex pattern="^([a-zA-Z ÑÁÉÍÓÚÜñáéíóúü.]{3,25})*$"/>
                                </p:inputText>
                                <p:message for="primernombrenuevousuario"/>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                <h6><b>Segundo nombre</b></h6>
                                <p:inputText id="segundonombrenuevousuario" value="#{homeBean.usuarioNuevo.usuarioSegundoNombre}" maxlength="25"
                                             style="width: 100%" validatorMessage="Apellido no válido.">
                                    <f:validateRegex pattern="^([a-zA-Z ÑÁÉÍÓÚÜñáéíóúü.]{3,25})*$"/>
                                </p:inputText>
                                <p:message for="segundonombrenuevousuario"/>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                <h6><b>Primer apellido *</b></h6>
                                <p:inputText id="primerapellidonuevousuario" value="#{homeBean.usuarioNuevo.usuarioPrimerApellido}" required="true" maxlength="25"
                                             style="width: 100%" validatorMessage="Nombre no válido." requiredMessage="Nombre es requerido.">
                                    <f:validateRegex pattern="^([a-zA-Z ÑÁÉÍÓÚÜñáéíóúü.]{3,25})*$"/>
                                </p:inputText>
                                <p:message for="primerapellidonuevousuario"/>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                <h6><b>Segundo apellido</b></h6>
                                <p:inputText id="segundoapellidonuevousuario" value="#{homeBean.usuarioNuevo.usuarioSegundoApellido}" maxlength="50"
                                             style="width: 100%" validatorMessage="Apellido no válido.">
                                    <f:validateRegex pattern="^([a-zA-Z ÑÁÉÍÓÚÜñáéíóúü.]{3,25})*$"/>
                                </p:inputText>
                                <p:message for="segundoapellidonuevousuario"/>
                            </div>
                        </div> 

                        <div class="row">
                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                <h6><b>Correo *</b></h6>
                                <p:inputText id="correonuevousuario" value="#{homeBean.usuarioNuevo.usuarioCorreo}" required="true" maxlength="50" style="width: 100%"
                                             validatorMessage="Correo no válido." requiredMessage="Correo es requerido." placeholder="ejemplo@mail.com">
                                    <f:validateRegex pattern="^([a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4})*$"/>
                                </p:inputText>
                                <p:message for="correonuevousuario"/>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                <h6><b>Teléfono *</b></h6>
                                <p:inputMask id="telefononuevousuario" value="#{homeBean.usuarioNuevo.usuarioTelefono}" required="true" mask="9999-9999" style="width: 100%"
                                             requiredMessage="Teléfono es requerido."/>
                                <p:message for="telefononuevousuario"/>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                <h6><b>Nombre de usuario *</b></h6>
                                <p:inputText id="usuarionuevousuario" value="#{homeBean.usuarioNuevo.usuarioUsuario}" required="true" maxlength="25" style="width: 100%"
                                             validatorMessage="Usuario no válido." requiredMessage="Usuario es requerido.">
                                    <f:validateRegex pattern="^([a-zA-Z0-9 ÑÁÉÍÓÚÜñáéíóúü.]{3,25})*$"/>
                                </p:inputText>
                                <p:message for="usuarionuevousuario"/>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                <h6><b>Contraseña *</b></h6>
                                <p:password id="contrasenianuevousuario" value="#{homeBean.usuarioNuevo.usuarioContrasenia}" match="confirmarnuevousuario" maxlength="20" style="width: 100%" feedback="true"
                                            promptLabel="Ingrese una contraseña" weakLabel="Seguridad baja" goodLabel="Seguridad media" strongLabel="Seguridad alta"
                                            required="true" requiredMessage="Ingrese una contraseña." validatorMessage="Contraseñas no coinciden o es muy corta.">
                                    <f:validateRegex pattern="^(.{6,20})*$"/>
                                </p:password>
                                <p:message for="contrasenianuevousuario"/>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">

                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                <h6><b>Confirmar contraseña *</b></h6>
                                <p:password id="confirmarnuevousuario" value="#{homeBean.usuarioNuevo.usuarioContrasenia}" maxlength="20" style="width: 100%" />
                            </div>
                        </div><br/>

                        <div class="row">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" align="center">
                                <p:captcha label="Captcha" id="captchanuevousuario" language="es" required="true" requiredMessage="Compruebe que no es un robot." validatorMessage="Compruebe que no es un robot."/> 
                                <p:message for="captchanuevousuario" style="width: 60%"/>
                            </div>
                        </div><br/>

                        <div class="row">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" align="center">
                                <h:commandLink type="submit" class="btn btn-default" action="#{homeBean.guardarUsuario()}"
                                               style="width: 100pt; height: 27pt; color: white; padding:5px; background-color:#FB6F52; font-weight:bold; border:solid 1px #FB6F52; -webkit-appearance:none; border-radius: 5px">
                                    <i class="glyphicon glyphicon-floppy-disk"></i> Registrarme
                                </h:commandLink>
                                &nbsp;
                                <button type="reset" class="btn btn-default buttonPopupLevel2 w3-round" style="width: 100pt"
                                        onclick="window.location.href = 'login.xhtml'">
                                    <span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span> Cancelar
                                </button>
                            </div>
                        </div>

                    </p:panel>
                </div>
                <h:panelGroup rendered="#{(promocionesBean.todasPromocionesActivas().size() != 0)}">
                    <div class="col-lg-7 col-md-7 hidden-sm hidden-xs">
                        <p:galleria value="#{promocionesBean.todasPromocionesActivas()}" transitionInterval="5000" var="image" panelWidth="770" panelHeight="465" showCaption="false" style="border: solid 2px #D5D5D5;">
                            <img src="#{request.contextPath}/images/promociones/#{image.promocionImagenNombre}" width="100%"/>
                        </p:galleria>
                    </div>
                </h:panelGroup>
                <h:panelGroup rendered="#{!(promocionesBean.todasPromocionesActivas().size() != 0)}">
                    <div class="col-lg-7 col-md-7 hidden-sm hidden-xs">
                        <img src="#{request.contextPath}/resources/images/carrusel_default.jpg" width="100%" height="515"/>
                    </div>
                </h:panelGroup>
            </div>
            <br/>

            <div class="row">
                <div class="col-md-12" align="center" style=" margin-left: 2pt">
                    <img src="#{request.contextPath}/images/configuraciones/direcciones.png" width="100%" height="100%"/>
                </div> 
            </div>

            <p:dialog header="Basic Dialog" widgetVar="activacion" minHeight="40">
                <h:outputText value="Más o menos así va esto..." />
            </p:dialog>

            <!-- Modal codigoSeguridad -->
            <div id="codigoSeguridad" class="modal">
                <div class="modal-dialog">
                    <div class="modal-content">

                        <!-- Cabecera del modal -->
                        <div class="modal-header" style="background-color: #066EAD">
                            <button type="button" class="close btn btn-default" data-dismiss="modal" style="width: 20pt; height: 25pt; background-color: #FF7F27; color: white" aria-hidden="true"><b>X</b></button>
                            <h5 class="modal-title"><b><font color="#fff">Código de seguridad</font></b></h5>
                        </div>

                        <!-- Cuerpo del modal -->
                        <div class="modal-body">
                            <p:panel style="margin-right: 5pt; margin-left: 5pt; border-radius: 5px; height: 140pt">
                                <h:panelGroup id="eliminar" style="text-align: center">
                                    <!-- Nombre -->
                                    <div class="col-xs-12">
                                        <label><center>Necesitamos validar su cuenta</center></label><br/>
                                        <label>Ingrese el código de seguridad enviado a su correo.</label><br/>
                                    </div>

                                    <div class="col-xs-12" align="center"><br/>
                                        <p:inputNumber value="#{fixme}" maxValue="9999" decimalPlaces="0" thousandSeparator=""/>
                                    </div>

                                    <div class="col-xs-12"><br/>

                                        <h:commandLink type="submit" class="btn btn-default"
                                                       style="width: 100pt; height: 27pt; color: white; padding:5px; background-color:#FB6F52; font-weight:bold; border:solid 1px #FB6F52; -webkit-appearance:none; border-radius: 5px">
                                            <i class="glyphicon glyphicon-trash"></i> Enviar
                                        </h:commandLink>
                                        &nbsp;
                                        <button type="button" class="btn btn-default buttonPopupLevel2 w3-round" style="width: 100pt; height: 27pt; color: white" data-dismiss="modal" aria-hidden="true">
                                            <span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span> Cancelar
                                        </button>
                                    </div><br/>
                                </h:panelGroup> 
                            </p:panel>
                        </div>
                    </div>
                </div>
            </div>

        </h:form>

        <p:spacer height="50"/>

        <!-- Para referencia a la sección Pie de Página -->
        <div id="bottom">
            <ui:insert name="bottom">
                <ui:include src="templates/partials/pie_pagina.xhtml"/>
            </ui:insert>
        </div>

        <!-- Para referencia a archivos Java Scripts de Bootstrap -->
        <script src="#{request.contextPath}/resources/js/bootstrap.min.js" type="text/javascript"></script>
        <script src="#{request.contextPath}/resources/js/jquery.dataTables.min.js" type="text/javascript"></script>
        <script src="#{request.contextPath}/resources/js/dataTables.bootstrap.min.js" type="text/javascript"></script>
        <ui:insert name="scripts"/>
    </h:body>

</html>
